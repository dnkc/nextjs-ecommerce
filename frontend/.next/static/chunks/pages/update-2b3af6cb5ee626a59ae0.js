(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{3804:function(e,n,r){"use strict";var t=r(9163),i=(0,t.F4)(["from{background-position:0 0;}to{background-position:100% 100%;}"]),o=t.ZP.form.withConfig({displayName:"Form",componentId:"sc-1xszr8q-0"})(["box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:"," 0.5s linear infinite;}}"],i);n.Z=o},8363:function(e,n,r){"use strict";var t=r(6265),i=r(9227),o=r(7294);function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.useState)(e),r=n[0],a=n[1],d=Object.values(e).join("");function u(e){var n=e.target,o=n.value,d=n.name,u=n.type;("number"===u&&(o=parseInt(o)),"file"===u)&&(o=(0,i.Z)(e.target.files,1)[0]);a(c(c({},r),{},(0,t.Z)({},d,o)))}function s(){a(e)}function p(){var e=Object.fromEntries(Object.entries(r).map((function(e){var n=(0,i.Z)(e,2),r=n[0];n[1];return[r,""]})));a(e)}return(0,o.useEffect)((function(){a(e)}),[d]),{inputs:r,handleChange:u,resetForm:s,clearForm:p}}},5768:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var t=r(5893),i=(r(7294),r(809)),o=r.n(i),a=r(2447),c=r(9227),d=r(7261),u=r(7450),s=r(3633),p=r(5709),l=r(3804),f=r(7847),b=r(8363);function m(){var e=(0,d.Z)(["\n  mutation UPDATE_PRODUCT_MUTATION(\n    $id: ID!\n    $name: String\n    $description: String\n    $price: Int\n  ) {\n    updateProduct(\n      id: $id\n      data: { name: $name, description: $description, price: $price }\n    ) {\n      name\n      description\n      price\n    }\n  }\n"]);return m=function(){return e},e}function h(){var e=(0,d.Z)(["\n  query SINGLE_PRODUCT_QUERY($id: ID!) {\n    Product(where: { id: $id }) {\n      id\n      name\n      description\n      price\n    }\n  }\n"]);return h=function(){return e},e}var g=(0,u.ZP)(h()),v=(0,u.ZP)(m()),j=function(e){var n,r,i,d=e.id,u=(0,s.a)(g,{variables:{id:d}}),m=u.data,h=u.error,j=u.loading,x=(0,p.D)(v,{variables:{id:d}}),y=(0,c.Z)(x,2),O=y[0],w=y[1],P=(w.data,w.error),Z=w.loading,_=(0,b.Z)(null===m||void 0===m?void 0:m.Product),k=_.inputs,D=_.handleChange;_.clearForm,_.resetForm;return j?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsxs)(l.Z,{onSubmit:function(){var e=(0,a.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,O({variables:{id:d,name:k.name,description:k.description,price:k.price}}).catch(console.error);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[(0,t.jsx)(f.Z,{error:h||P}),(0,t.jsxs)("fieldset",{disabled:Z,"aria-busy":Z,children:[(0,t.jsxs)("label",{htmlFor:"image",children:["Image",(0,t.jsx)("input",{type:"file",required:!0,id:"image",name:"image",onChange:D})]}),(0,t.jsxs)("label",{htmlFor:"name",children:["Name",(0,t.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Name",value:null!==(n=k.name)&&void 0!==n?n:"",onChange:D})]}),(0,t.jsxs)("label",{htmlFor:"price",children:["Price",(0,t.jsx)("input",{type:"number",id:"price",name:"price",placeholder:"price",value:null!==(r=k.price)&&void 0!==r?r:"",onChange:D})]}),(0,t.jsxs)("label",{htmlFor:"description",children:["Description",(0,t.jsx)("textarea",{id:"description",name:"description",placeholder:"description",value:null!==(i=k.description)&&void 0!==i?i:"",onChange:D})]}),(0,t.jsx)("button",{type:"submit",children:"Update Product"})]})]})},x=(r(2010),function(e){var n=e.query;return(0,t.jsx)("div",{children:(0,t.jsx)(j,{id:n.id})})})},4086:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update",function(){return r(5768)}])}},function(e){e.O(0,[774,888,179],(function(){return n=4086,e(e.s=n);var n}));var n=e.O();_N_E=n}]);