(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{6807:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return x}});var i=e(5893),t=e(7261),a=e(3633),d=e(7450),o=e(7847),s=e(9163),l=s.ZP.li.withConfig({displayName:"OrderItemStyles",componentId:"sc-fbwo89-0"})(["box-shadow:var(--bs);list-style:none;padding:2rem;border:1px solid var(--offWhite);h2{border-bottom:2px solid red;margin-top:0;margin-bottom:2rem;padding-bottom:2rem;}.images{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fit,minmax(0,1fr));margin-top:1rem;img{height:200px;object-fit:cover;width:100%;}}.order-meta{display:grid;grid-template-columns:repeat(auto-fit,minmax(20px,1fr));display:grid;grid-gap:1rem;text-align:center;& > *{margin:0;background:rgba(0,0,0,0.03);padding:1rem 0;}strong{display:block;margin-bottom:1rem;}}"]),m=e(9008),c=e(4849),u=e(1664);function p(){var r=(0,t.Z)(["\n  query USER_ORDERS_QUERY {\n    allOrders {\n      id\n      charge\n      total\n      user {\n        id\n      }\n      items {\n        id\n        name\n        quantity\n        price\n        description\n        photo {\n          image {\n            publicUrlTransformed\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return r},r}var g=(0,d.ZP)(p()),h=s.ZP.ul.withConfig({displayName:"orders__OrderUl",componentId:"sc-15udvsj-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(550px,1fr));grid-gap:4rem;"]);function f(r){return r.items.reduce((function(r,n){return r+n.quantity}),0)}function x(){var r=(0,a.a)(g),n=r.data,e=r.error;if(r.loading)return(0,i.jsx)("p",{children:"Loading..."});if(e)return(0,i.jsx)(o.Z,{error:e});var t=n.allOrders;return(0,i.jsxs)("div",{children:[(0,i.jsx)(m.default,{children:(0,i.jsxs)("title",{children:["Your Orders (",t.length,")"]})}),(0,i.jsxs)("h2",{children:["You have ",t.length," orders!"]}),(0,i.jsx)(h,{children:t.map((function(r){return(0,i.jsx)(l,{children:(0,i.jsx)(u.default,{href:"/order/".concat(r.id),children:(0,i.jsxs)("a",{children:[(0,i.jsxs)("div",{className:"order-meta",children:[(0,i.jsxs)("p",{children:[f(r)," Items"]}),(0,i.jsxs)("p",{children:[r.items.length," Product",1===r.items.length?"":"s"]}),(0,i.jsx)("p",{children:(0,c.Z)(r.total)})]}),(0,i.jsx)("div",{className:"images",children:r.items.map((function(r){var n,e;return(0,i.jsx)("img",{src:null===(n=r.photo)||void 0===n||null===(e=n.image)||void 0===e?void 0:e.publicUrlTransformed,alt:r.name},"image-".concat(r.id))}))})]})})})}))})]})}},5626:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders",function(){return e(6807)}])}},function(r){r.O(0,[774,888,179],(function(){return n=5626,r(r.s=n);var n}));var n=r.O();_N_E=n}]);